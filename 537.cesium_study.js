"use strict";(self.webpackChunkcesium_study=self.webpackChunkcesium_study||[]).push([[537],{4537:function(e,t,n){n.r(t),n(2222),n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948),n(1038),n(7042),n(8309),n(4916);var r=n(7521),o=n(5069),i=n(6986);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){var e=new r.Viewer("viewer",{terrainProvider:(0,r.createWorldTerrain)()}),t=(0,r.createOsmBuildings)();e.scene.primitives.add(t);var n=new r.ScreenSpaceEventHandler(e.scene.canvas),c=new i.Z("按鼠标所选建筑物距离显示样式",(function(){l(23.1202,113.32056),n.setInputAction((function(t){e.selectedEntity=void 0;var n=e.scene.pick(t.position);n&&l(n.getProperty("cesium#latitude"),n.getProperty("cesium#longitude"))}),r.ScreenSpaceEventType.LEFT_CLICK)}));function l(e,n){t.style=new r.Cesium3DTileStyle({defines:{distance:"distance(vec2(${feature['cesium#longitude']}, ${feature['cesium#latitude']}), vec2("+n+","+e+"))"},color:{conditions:[["${distance} > 0.014","color('black')"],["${distance} > 0.010","color('purple')"],["${distance} > 0.006","color('red')"],["${distance} > 0.0001","color('pink')"],["true","color('gold')"]]}})}var u,s=new i.Z("按高度渲染颜色",(function(){t.style=new r.Cesium3DTileStyle({defines:{height:"${feature['cesium#estimatedHeight']}"},color:{conditions:[["${height} > 400","color('gold')"],["${height} > 300","color('pink')"],["${height} > 200","color('red', 0.5)"],["${height} > 100","color('purple', 0.5)"],["${height} > 50","color('blue', 0.5)"],["${height} > 0","color('white', 0.8)"],["true","color('white', 0.8)"]]}})})),d=new i.Z("突出住宅建筑",(function(){t.style=new r.Cesium3DTileStyle({color:{conditions:[["${feature['building']} === 'apartments' || ${feature['building']} === 'residential'","color('cyan')"],["true","color('#fff', 0.5)"]]}})})),f=new i.Z("仅显示办公楼",(function(){t.style=new r.Cesium3DTileStyle({show:"${feature['building']} === 'office'",color:{conditions:[["${feature['building']} === 'office'","color('pink')"]]}})}));e.scene.camera.setView({destination:r.Cartesian3.fromDegrees.apply(r.Cartesian3,(u=o.o6.GUANG_ZHOU_TA,function(e){if(Array.isArray(e))return a(e)}(u)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(u)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([1e3])),orientation:{pitch:r.Math.toRadians(-20)}});var p=document.getElementsByClassName("button-box")[0];return c.appendTo(p),s.appendTo(p),d.appendTo(p),f.appendTo(p),function(){e.destroy(),c.remove(),s.remove(),d.remove(),f.remove()}}},6986:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=document.createElement("div");r.style.cssText="\n            display: inline-block;\n            line-height: 18px;\n            padding: 4px 10px;\n            margin-right: 10px;\n            color: #fff;\n            background-color: rgb(48, 51, 54);\n            border: 1px solid #fff;\n            border-radius: 2px;\n            cursor: pointer;\n        ",r.textContent=t,"function"==typeof n&&r.addEventListener("click",n),this.el=r}var t,r;return t=e,(r=[{key:"appendTo",value:function(e){e.appendChild(this.el)}},{key:"remove",value:function(){var e=this.el,t=e.parentNode;t&&t.removeChild(e)}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.Z=r},2222:function(e,t,n){var r=n(2109),o=n(7854),i=n(7293),a=n(3157),c=n(111),l=n(7908),u=n(6244),s=n(6135),d=n(5417),f=n(1194),p=n(5112),y=n(7392),h=p("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",g=o.TypeError,b=y>=51||!i((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),w=f("concat"),$=function(e){if(!c(e))return!1;var t=e[h];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,forced:!b||!w},{concat:function(e){var t,n,r,o,i,a=l(this),c=d(a,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if($(i=-1===t?a:arguments[t])){if(f+(o=u(i))>m)throw g(v);for(n=0;n<o;n++,f++)n in i&&s(c,f,i[n])}else{if(f>=m)throw g(v);s(c,f++,i)}return c.length=f,c}})}}]);