import Check from"./Check.js";import defaultValue from"./defaultValue.js";function ManagedArray(t){t=defaultValue(t,0),this._array=new Array(t),this._length=t}Object.defineProperties(ManagedArray.prototype,{length:{get:function(){return this._length},set:function(t){Check.typeOf.number.greaterThanOrEquals("length",t,0);var e=this._array,r=this._length;if(t<r)for(var a=t;a<r;++a)e[a]=void 0;else t>e.length&&(e.length=t);this._length=t}},values:{get:function(){return this._array}}}),ManagedArray.prototype.get=function(t){return Check.typeOf.number.lessThan("index",t,this._array.length),this._array[t]},ManagedArray.prototype.set=function(t,e){Check.typeOf.number("index",t),t>=this._length&&(this.length=t+1),this._array[t]=e},ManagedArray.prototype.peek=function(){return this._array[this._length-1]},ManagedArray.prototype.push=function(t){var e=this.length++;this._array[e]=t},ManagedArray.prototype.pop=function(){if(0!==this._length){var t=this._array[this._length-1];return--this.length,t}},ManagedArray.prototype.reserve=function(t){Check.typeOf.number.greaterThanOrEquals("length",t,0),t>this._array.length&&(this._array.length=t)},ManagedArray.prototype.resize=function(t){Check.typeOf.number.greaterThanOrEquals("length",t,0),this.length=t},ManagedArray.prototype.trim=function(t){t=defaultValue(t,this._length),this._array.length=t};export default ManagedArray;