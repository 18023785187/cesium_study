import Cartesian2 from"./Cartesian2.js";import Cartesian3 from"./Cartesian3.js";import Check from"./Check.js";import Matrix3 from"./Matrix3.js";import OrientedBoundingBox from"./OrientedBoundingBox.js";var CoplanarPolygonGeometryLibrary={},scratchIntersectionPoint=new Cartesian3,scratchXAxis=new Cartesian3,scratchYAxis=new Cartesian3,scratchZAxis=new Cartesian3,obbScratch=new OrientedBoundingBox;function projectTo2D(t,r,e,n,a){var i=Cartesian3.subtract(t,r,scratchIntersectionPoint),o=Cartesian3.dot(e,i),s=Cartesian3.dot(n,i);return Cartesian2.fromElements(o,s,a)}CoplanarPolygonGeometryLibrary.validOutline=function(t){Check.defined("positions",t);var r=OrientedBoundingBox.fromPoints(t,obbScratch).halfAxes,e=Matrix3.getColumn(r,0,scratchXAxis),n=Matrix3.getColumn(r,1,scratchYAxis),a=Matrix3.getColumn(r,2,scratchZAxis),i=Cartesian3.magnitude(e),o=Cartesian3.magnitude(n),s=Cartesian3.magnitude(a);return!(0===i&&(0===o||0===s)||0===o&&0===s)},CoplanarPolygonGeometryLibrary.computeProjectTo2DArguments=function(t,r,e,n){Check.defined("positions",t),Check.defined("centerResult",r),Check.defined("planeAxis1Result",e),Check.defined("planeAxis2Result",n);var a,i,o=OrientedBoundingBox.fromPoints(t,obbScratch),s=o.halfAxes,c=Matrix3.getColumn(s,0,scratchXAxis),u=Matrix3.getColumn(s,1,scratchYAxis),C=Matrix3.getColumn(s,2,scratchZAxis),m=Cartesian3.magnitude(c),l=Cartesian3.magnitude(u),d=Cartesian3.magnitude(C),x=Math.min(m,l,d);return(0!==m||0!==l&&0!==d)&&(0!==l||0!==d)&&(x!==l&&x!==d||(a=c),x===m?a=u:x===d&&(i=u),x!==m&&x!==l||(i=C),Cartesian3.normalize(a,e),Cartesian3.normalize(i,n),Cartesian3.clone(o.center,r),!0)},CoplanarPolygonGeometryLibrary.createProjectPointsTo2DFunction=function(t,r,e){return function(n){for(var a=new Array(n.length),i=0;i<n.length;i++)a[i]=projectTo2D(n[i],t,r,e);return a}},CoplanarPolygonGeometryLibrary.createProjectPointTo2DFunction=function(t,r,e){return function(n,a){return projectTo2D(n,t,r,e,a)}};export default CoplanarPolygonGeometryLibrary;