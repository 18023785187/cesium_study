import Cartesian3 from"./Cartesian3.js";import Check from"./Check.js";import defaultValue from"./defaultValue.js";import defined from"./defined.js";import CesiumMath from"./Math.js";import scaleToGeodeticSurface from"./scaleToGeodeticSurface.js";function Cartographic(e,t,a){this.longitude=defaultValue(e,0),this.latitude=defaultValue(t,0),this.height=defaultValue(a,0)}Cartographic.fromRadians=function(e,t,a,i){return Check.typeOf.number("longitude",e),Check.typeOf.number("latitude",t),a=defaultValue(a,0),defined(i)?(i.longitude=e,i.latitude=t,i.height=a,i):new Cartographic(e,t,a)},Cartographic.fromDegrees=function(e,t,a,i){return Check.typeOf.number("longitude",e),Check.typeOf.number("latitude",t),e=CesiumMath.toRadians(e),t=CesiumMath.toRadians(t),Cartographic.fromRadians(e,t,a,i)};var cartesianToCartographicN=new Cartesian3,cartesianToCartographicP=new Cartesian3,cartesianToCartographicH=new Cartesian3,wgs84OneOverRadii=new Cartesian3(1/6378137,1/6378137,1/6356752.314245179),wgs84OneOverRadiiSquared=new Cartesian3(1/40680631590769,1/40680631590769,1/40408299984661.445),wgs84CenterToleranceSquared=CesiumMath.EPSILON1;Cartographic.fromCartesian=function(e,t,a){var i=defined(t)?t.oneOverRadii:wgs84OneOverRadii,r=defined(t)?t.oneOverRadiiSquared:wgs84OneOverRadiiSquared,n=defined(t)?t._centerToleranceSquared:wgs84CenterToleranceSquared,o=scaleToGeodeticSurface(e,i,r,n,cartesianToCartographicP);if(defined(o)){var u=Cartesian3.multiplyComponents(o,r,cartesianToCartographicN);u=Cartesian3.normalize(u,u);var d=Cartesian3.subtract(e,o,cartesianToCartographicH),h=Math.atan2(u.y,u.x),c=Math.asin(u.z),s=CesiumMath.sign(Cartesian3.dot(d,e))*Cartesian3.magnitude(d);return defined(a)?(a.longitude=h,a.latitude=c,a.height=s,a):new Cartographic(h,c,s)}},Cartographic.toCartesian=function(e,t,a){return Check.defined("cartographic",e),Cartesian3.fromRadians(e.longitude,e.latitude,e.height,t,a)},Cartographic.clone=function(e,t){if(defined(e))return defined(t)?(t.longitude=e.longitude,t.latitude=e.latitude,t.height=e.height,t):new Cartographic(e.longitude,e.latitude,e.height)},Cartographic.equals=function(e,t){return e===t||defined(e)&&defined(t)&&e.longitude===t.longitude&&e.latitude===t.latitude&&e.height===t.height},Cartographic.equalsEpsilon=function(e,t,a){return a=defaultValue(a,0),e===t||defined(e)&&defined(t)&&Math.abs(e.longitude-t.longitude)<=a&&Math.abs(e.latitude-t.latitude)<=a&&Math.abs(e.height-t.height)<=a},Cartographic.ZERO=Object.freeze(new Cartographic(0,0,0)),Cartographic.prototype.clone=function(e){return Cartographic.clone(this,e)},Cartographic.prototype.equals=function(e){return Cartographic.equals(this,e)},Cartographic.prototype.equalsEpsilon=function(e,t){return Cartographic.equalsEpsilon(this,e,t)},Cartographic.prototype.toString=function(){return"("+this.longitude+", "+this.latitude+", "+this.height+")"};export default Cartographic;