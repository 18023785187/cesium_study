import Check from"./Check.js";import Credit from"./Credit.js";import defaultValue from"./defaultValue.js";import defined from"./defined.js";import Ion from"./Ion.js";import PeliasGeocoderService from"./PeliasGeocoderService.js";import Resource from"./Resource.js";function IonGeocoderService(e){e=defaultValue(e,defaultValue.EMPTY_OBJECT),Check.typeOf.object("options.scene",e.scene);var o=defaultValue(e.accessToken,Ion.defaultAccessToken),r=Resource.createIfNeeded(defaultValue(e.server,Ion.defaultServer));r.appendForwardSlash();var t=Ion.getDefaultTokenCredit(o);defined(t)&&e.scene.frameState.creditDisplay.addDefaultCredit(Credit.clone(t));var d=r.getDerivedResource({url:"v1/geocode"});defined(o)&&d.appendQueryParameters({access_token:o}),this._accessToken=o,this._server=r,this._pelias=new PeliasGeocoderService(d)}IonGeocoderService.prototype.geocode=function(e,o){return this._pelias.geocode(e,o)};export default IonGeocoderService;