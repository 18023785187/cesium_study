import defaultValue from"./defaultValue.js";import defined from"./defined.js";import RequestState from"./RequestState.js";import RequestType from"./RequestType.js";function Request(t){t=defaultValue(t,defaultValue.EMPTY_OBJECT);var e=defaultValue(t.throttleByServer,!1),i=defaultValue(t.throttle,!1);this.url=t.url,this.requestFunction=t.requestFunction,this.cancelFunction=t.cancelFunction,this.priorityFunction=t.priorityFunction,this.priority=defaultValue(t.priority,0),this.throttle=i,this.throttleByServer=e,this.type=defaultValue(t.type,RequestType.OTHER),this.serverKey=void 0,this.state=RequestState.UNISSUED,this.deferred=void 0,this.cancelled=!1}Request.prototype.cancel=function(){this.cancelled=!0},Request.prototype.clone=function(t){return defined(t)?(t.url=this.url,t.requestFunction=this.requestFunction,t.cancelFunction=this.cancelFunction,t.priorityFunction=this.priorityFunction,t.priority=this.priority,t.throttle=this.throttle,t.throttleByServer=this.throttleByServer,t.type=this.type,t.serverKey=this.serverKey,t.state=this.RequestState.UNISSUED,t.deferred=void 0,t.cancelled=!1,t):new Request(this)};export default Request;