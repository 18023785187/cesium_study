import defined from"./defined.js";import DeveloperError from"./DeveloperError.js";import IndexDatatype from"./IndexDatatype.js";import CesiumMath from"./Math.js";function TerrainProvider(){DeveloperError.throwInstantiationError()}Object.defineProperties(TerrainProvider.prototype,{errorEvent:{get:DeveloperError.throwInstantiationError},credit:{get:DeveloperError.throwInstantiationError},tilingScheme:{get:DeveloperError.throwInstantiationError},ready:{get:DeveloperError.throwInstantiationError},readyPromise:{get:DeveloperError.throwInstantiationError},hasWaterMask:{get:DeveloperError.throwInstantiationError},hasVertexNormals:{get:DeveloperError.throwInstantiationError},availability:{get:DeveloperError.throwInstantiationError}});var regularGridIndicesCache=[];TerrainProvider.getRegularGridIndices=function(r,e){if(r*e>=CesiumMath.FOUR_GIGABYTES)throw new DeveloperError("The total number of vertices (width * height) must be less than 4,294,967,296.");var t=regularGridIndicesCache[r];defined(t)||(regularGridIndicesCache[r]=t=[]);var i=t[e];return defined(i)||addRegularGridIndices(r,e,i=r*e<CesiumMath.SIXTY_FOUR_KILOBYTES?t[e]=new Uint16Array((r-1)*(e-1)*6):t[e]=new Uint32Array((r-1)*(e-1)*6),0),i};var regularGridAndEdgeIndicesCache=[];TerrainProvider.getRegularGridIndicesAndEdgeIndices=function(r,e){if(r*e>=CesiumMath.FOUR_GIGABYTES)throw new DeveloperError("The total number of vertices (width * height) must be less than 4,294,967,296.");var t=regularGridAndEdgeIndicesCache[r];defined(t)||(regularGridAndEdgeIndicesCache[r]=t=[]);var i=t[e];if(!defined(i)){var o=TerrainProvider.getRegularGridIndices(r,e),n=getEdgeIndices(r,e),a=n.westIndicesSouthToNorth,d=n.southIndicesEastToWest,s=n.eastIndicesNorthToSouth,h=n.northIndicesWestToEast;i=t[e]={indices:o,westIndicesSouthToNorth:a,southIndicesEastToWest:d,eastIndicesNorthToSouth:s,northIndicesWestToEast:h}}return i};var regularGridAndSkirtAndEdgeIndicesCache=[];function getEdgeIndices(r,e){var t,i=new Array(e),o=new Array(r),n=new Array(e),a=new Array(r);for(t=0;t<r;++t)a[t]=t,o[t]=r*e-1-t;for(t=0;t<e;++t)n[t]=(t+1)*r-1,i[t]=(e-t-1)*r;return{westIndicesSouthToNorth:i,southIndicesEastToWest:o,eastIndicesNorthToSouth:n,northIndicesWestToEast:a}}function addRegularGridIndices(r,e,t,i){for(var o=0,n=0;n<e-1;++n){for(var a=0;a<r-1;++a){var d=o,s=d+r,h=s+1,c=d+1;t[i++]=d,t[i++]=s,t[i++]=c,t[i++]=c,t[i++]=s,t[i++]=h,++o}++o}}function addSkirtIndices(r,e,t,i){for(var o=r[0],n=r.length,a=1;a<n;++a){var d=r[a];t[i++]=o,t[i++]=d,t[i++]=e,t[i++]=e,t[i++]=d,t[i++]=e+1,o=d,++e}return i}TerrainProvider.getRegularGridAndSkirtIndicesAndEdgeIndices=function(r,e){if(r*e>=CesiumMath.FOUR_GIGABYTES)throw new DeveloperError("The total number of vertices (width * height) must be less than 4,294,967,296.");var t=regularGridAndSkirtAndEdgeIndicesCache[r];defined(t)||(regularGridAndSkirtAndEdgeIndicesCache[r]=t=[]);var i=t[e];if(!defined(i)){var o=r*e,n=(r-1)*(e-1)*6,a=2*r+2*e,d=o+a,s=n+6*Math.max(0,a-4),h=getEdgeIndices(r,e),c=h.westIndicesSouthToNorth,I=h.southIndicesEastToWest,u=h.eastIndicesNorthToSouth,l=h.northIndicesWestToEast,v=IndexDatatype.createTypedArray(d,s);addRegularGridIndices(r,e,v,0),TerrainProvider.addSkirtIndices(c,I,u,l,o,v,n),i=t[e]={indices:v,westIndicesSouthToNorth:c,southIndicesEastToWest:I,eastIndicesNorthToSouth:u,northIndicesWestToEast:l,indexCountWithoutSkirts:n}}return i},TerrainProvider.addSkirtIndices=function(r,e,t,i,o,n,a){var d=o;a=addSkirtIndices(r,d,n,a),a=addSkirtIndices(e,d+=r.length,n,a),a=addSkirtIndices(t,d+=e.length,n,a),addSkirtIndices(i,d+=t.length,n,a)},TerrainProvider.heightmapTerrainQuality=.25,TerrainProvider.getEstimatedLevelZeroGeometricErrorForAHeightmap=function(r,e,t){return 2*r.maximumRadius*Math.PI*TerrainProvider.heightmapTerrainQuality/(e*t)},TerrainProvider.prototype.requestTileGeometry=DeveloperError.throwInstantiationError,TerrainProvider.prototype.getLevelMaximumGeometricError=DeveloperError.throwInstantiationError,TerrainProvider.prototype.getTileDataAvailable=DeveloperError.throwInstantiationError,TerrainProvider.prototype.loadTileDataAvailability=DeveloperError.throwInstantiationError;export default TerrainProvider;