import Cartesian3 from"./Cartesian3.js";import Check from"./Check.js";import defaultValue from"./defaultValue.js";import defined from"./defined.js";import Intersect from"./Intersect.js";function AxisAlignedBoundingBox(n,e,i){this.minimum=Cartesian3.clone(defaultValue(n,Cartesian3.ZERO)),this.maximum=Cartesian3.clone(defaultValue(e,Cartesian3.ZERO)),i=defined(i)?Cartesian3.clone(i):Cartesian3.midpoint(this.minimum,this.maximum,new Cartesian3),this.center=i}AxisAlignedBoundingBox.fromPoints=function(n,e){if(defined(e)||(e=new AxisAlignedBoundingBox),!defined(n)||0===n.length)return e.minimum=Cartesian3.clone(Cartesian3.ZERO,e.minimum),e.maximum=Cartesian3.clone(Cartesian3.ZERO,e.maximum),e.center=Cartesian3.clone(Cartesian3.ZERO,e.center),e;for(var i=n[0].x,t=n[0].y,a=n[0].z,r=n[0].x,m=n[0].y,s=n[0].z,o=n.length,u=1;u<o;u++){var c=n[u],d=c.x,x=c.y,l=c.z;i=Math.min(d,i),r=Math.max(d,r),t=Math.min(x,t),m=Math.max(x,m),a=Math.min(l,a),s=Math.max(l,s)}var f=e.minimum;f.x=i,f.y=t,f.z=a;var C=e.maximum;return C.x=r,C.y=m,C.z=s,e.center=Cartesian3.midpoint(f,C,e.center),e},AxisAlignedBoundingBox.clone=function(n,e){if(defined(n))return defined(e)?(e.minimum=Cartesian3.clone(n.minimum,e.minimum),e.maximum=Cartesian3.clone(n.maximum,e.maximum),e.center=Cartesian3.clone(n.center,e.center),e):new AxisAlignedBoundingBox(n.minimum,n.maximum,n.center)},AxisAlignedBoundingBox.equals=function(n,e){return n===e||defined(n)&&defined(e)&&Cartesian3.equals(n.center,e.center)&&Cartesian3.equals(n.minimum,e.minimum)&&Cartesian3.equals(n.maximum,e.maximum)};var intersectScratch=new Cartesian3;AxisAlignedBoundingBox.intersectPlane=function(n,e){Check.defined("box",n),Check.defined("plane",e),intersectScratch=Cartesian3.subtract(n.maximum,n.minimum,intersectScratch);var i=Cartesian3.multiplyByScalar(intersectScratch,.5,intersectScratch),t=e.normal,a=i.x*Math.abs(t.x)+i.y*Math.abs(t.y)+i.z*Math.abs(t.z),r=Cartesian3.dot(n.center,t)+e.distance;return r-a>0?Intersect.INSIDE:r+a<0?Intersect.OUTSIDE:Intersect.INTERSECTING},AxisAlignedBoundingBox.prototype.clone=function(n){return AxisAlignedBoundingBox.clone(this,n)},AxisAlignedBoundingBox.prototype.intersectPlane=function(n){return AxisAlignedBoundingBox.intersectPlane(this,n)},AxisAlignedBoundingBox.prototype.equals=function(n){return AxisAlignedBoundingBox.equals(this,n)};export default AxisAlignedBoundingBox;