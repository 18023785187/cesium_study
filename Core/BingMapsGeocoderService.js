import Check from"./Check.js";import defaultValue from"./defaultValue.js";import Rectangle from"./Rectangle.js";import Resource from"./Resource.js";import defined from"./defined.js";import DeveloperError from"./DeveloperError.js";var url="https://dev.virtualearth.net/REST/v1/Locations";function BingMapsGeocoderService(e){var r=(e=defaultValue(e,defaultValue.EMPTY_OBJECT)).key;if(!defined(r))throw new DeveloperError("options.key is required.");this._key=r;var t={key:r};defined(e.culture)&&(t.culture=e.culture),this._resource=new Resource({url:url,queryParameters:t})}Object.defineProperties(BingMapsGeocoderService.prototype,{url:{get:function(){return url}},key:{get:function(){return this._key}}}),BingMapsGeocoderService.prototype.geocode=function(e){return Check.typeOf.string("query",e),this._resource.getDerivedResource({queryParameters:{query:e}}).fetchJsonp("jsonp").then((function(e){return 0===e.resourceSets.length?[]:e.resourceSets[0].resources.map((function(e){var r=e.bbox,t=r[0],o=r[1],u=r[2],n=r[3];return{displayName:e.name,destination:Rectangle.fromDegrees(o,t,n,u)}}))}))};export default BingMapsGeocoderService;