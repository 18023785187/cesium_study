import Check from"./Check.js";import DeveloperError from"./DeveloperError.js";var HilbertOrder={};function rotate(e,r,t,o){if(0===o){1===t&&(r.x=e-1-r.x,r.y=e-1-r.y);var n=r.x;r.x=r.y,r.y=n}}HilbertOrder.encode2D=function(e,r,t){var o=Math.pow(2,e);if(Check.typeOf.number("level",e),Check.typeOf.number("x",r),Check.typeOf.number("y",t),e<1)throw new DeveloperError("Hilbert level cannot be less than 1.");if(r<0||r>=o||t<0||t>=o)throw new DeveloperError("Invalid coordinates for given level.");var n,i,l,v={x:r,y:t},a=BigInt(0);for(l=o/2;l>0;l/=2)n=(v.x&l)>0?1:0,i=(v.y&l)>0?1:0,a+=BigInt((3*n^i)*l*l),rotate(o,v,n,i);return a},HilbertOrder.decode2D=function(e,r){if(Check.typeOf.number("level",e),Check.typeOf.bigint("index",r),e<1)throw new DeveloperError("Hilbert level cannot be less than 1.");if(r<BigInt(0)||r>=BigInt(Math.pow(4,e)))throw new DeveloperError("Hilbert index exceeds valid maximum for given level.");var t,o,n,i,l=Math.pow(2,e),v={x:0,y:0};for(n=1,i=r;n<l;n*=2)rotate(n,v,t=1&Number(i/BigInt(2)),o=1&Number(i^BigInt(t))),v.x+=n*t,v.y+=n*o,i/=BigInt(4);return[v.x,v.y]};export default HilbertOrder;